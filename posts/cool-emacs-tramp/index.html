<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Cool Emacs Things: Edit Files Over SSH - Ryan Faulhaber</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="This is the first installment of an indefinite series calling (in lieu of a better name) &ldquo;Cool Emacs Things,&rdquo; little things about Emacs that makes it a very handy editor.
Today&rsquo;s entry: Editing files over SSH.
This was something I discovered recently by accident. I run a private email server and the IMAP portion of the server is handled by Dovecot. Dovecot is great but by default the configuration is spread across dozens of files, and, while trying to tediously edit multiple files over SSH in Vim, I thought, &ldquo;Wouldn&rsquo;t it be nice if I could do this with Emacs?&rdquo; Well guess what!"><meta property="og:image" content><meta property="og:url" content="/posts/cool-emacs-tramp/"><meta property="og:site_name" content="Ryan Faulhaber"><meta property="og:title" content="Cool Emacs Things: Edit Files Over SSH"><meta property="og:description" content="This is the first installment of an indefinite series calling (in lieu of a better name) “Cool Emacs Things,” little things about Emacs that makes it a very handy editor.
Today’s entry: Editing files over SSH.
This was something I discovered recently by accident. I run a private email server and the IMAP portion of the server is handled by Dovecot. Dovecot is great but by default the configuration is spread across dozens of files, and, while trying to tediously edit multiple files over SSH in Vim, I thought, “Wouldn’t it be nice if I could do this with Emacs?” Well guess what!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-08-22T14:43:00-04:00"><meta property="article:modified_time" content="2020-08-22T14:43:00-04:00"><meta property="article:tag" content="Emacs"><meta property="og:see_also" content="/posts/cool-emacs-evil/"><meta property="og:see_also" content="/posts/cool-emacs-dired/"><meta property="og:see_also" content="/posts/cool-emacs-magit/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Cool Emacs Things: Edit Files Over SSH"><meta name=twitter:description content="This is the first installment of an indefinite series calling (in lieu of a better name) “Cool Emacs Things,” little things about Emacs that makes it a very handy editor.
Today’s entry: Editing files over SSH.
This was something I discovered recently by accident. I run a private email server and the IMAP portion of the server is handled by Dovecot. Dovecot is great but by default the configuration is spread across dozens of files, and, while trying to tediously edit multiple files over SSH in Vim, I thought, “Wouldn’t it be nice if I could do this with Emacs?” Well guess what!"><link href=/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css><link id=darkModeStyle rel=stylesheet type=text/css href=/css/dark.d22e2a2879d933a4b781535fc4c4c716e9f9d35ea4986dd0cbabda82effc4bdd.css media="(prefers-color-scheme: dark)"></head><body><div class=content><header><div class=main><a href=/>Ryan Faulhaber</a></div><nav><a href=posts/>posts</a>
<a href=resume/>resume</a>
<a href=working/>working with me</a></nav></header><main><article><div class=title><h1 class=title>Cool Emacs Things: Edit Files Over SSH</h1><div class=meta>Posted on Aug 22, 2020</div></div><section class=body><p>This is the first installment of an indefinite series calling (in lieu of a better name) &ldquo;Cool Emacs Things,&rdquo; little things about Emacs that makes it a very handy editor.</p><p>Today&rsquo;s entry: Editing files over SSH.</p><p>This was something I discovered recently by accident. I run a private email server and the IMAP portion of the server is handled by <a href=https://www.dovecot.org/>Dovecot</a>. Dovecot is great but by default the configuration is spread across dozens of files, and, while trying to tediously edit multiple files over SSH in Vim, I thought, &ldquo;Wouldn&rsquo;t it be nice if I could do this with Emacs?&rdquo; Well guess what!</p><p><code>C-x C-f</code> (or <code>SPC f f</code> in Doom, which is what I use) will open a &ldquo;find file&rdquo; dialog, obviously letting you open files and peruse your file system. However you don&rsquo;t have to just browse for files. I use Ivy, so your experience may vary, but when I type <code>/ssh: TAB</code> I&rsquo;m shown a list of my SSH connections. <code>/ssh:ryan@email-server:/</code> then will cause Emacs to presumably run some commands using SSH (or a related program) and treat it as a directory on your own computer. You can then used Dired (like an interactive <code>ls</code>, if you aren&rsquo;t an Emacs user!) to explore your remote files and folders and even open files and edit them.</p><p>The Emacs package that handles this is called <a href=https://www.gnu.org/software/tramp/>TRAMP</a>, and allows you to do a lot more than just what I&rsquo;m talking about in this post.</p><p>There is one issue with this, however: my Dovecot configuration requires root permissions to edit them. TRAMP can handle this too with something called <a href=https://www.gnu.org/software/tramp/#Multi%5F002dhops>multiple hops</a>. The idea is that I&rsquo;ll first connect to the host via SSH and then run any further commands using <code>doas</code> (the OpenBSD equivalent of <code>sudo</code> more or less, as my email server is hosted on OpenBSD).</p><p>The final command to do all this looks like:</p><pre><code class=language-text>/ssh:ryan@email-server|doas:ryan@email-server:/
</code></pre><p>Now I can browse and edit my email server with elevated permissions. Cool!</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/emacs>emacs</a></li></ul></nav></div></article></main><footer><div style=display:flex></div><div class=footer-info>2024 <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>